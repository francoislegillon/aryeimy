<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>AR QR Gallery - Debug Visible</title>
    <script src="https://cdn.jsdelivr.net/npm/aframe@1.4.0/dist/aframe-master.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.0/dist/mindar-image-aframe.prod.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background: #000;
        }
        
        /* Force video element visibility for camera feed */
        video {
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            width: 100vw !important;
            height: 100vh !important;
            object-fit: cover !important;
            z-index: 1 !important;
        }
        
        /* Ensure A-Frame canvas is above video */
        a-scene {
            z-index: 2 !important;
            position: relative !important;
        }
        
        .debug-status {
            position: fixed;
            top: 10px;
            left: 10px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px;
            border-radius: 5px;
            z-index: 10;
            font-size: 12px;
        }
        
        .ar-instructions {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 150, 0, 0.9);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            z-index: 10;
            text-align: center;
            font-size: 16px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="debug-status" id="debugStatus">
        üéØ Tracking: Waiting...<br>
        üì¶ AR Content: Hidden
    </div>
    
    <div class="ar-instructions" id="instructions">
        üîç Point camera at paramo image - AR content will appear when detected!
    </div>
    
    <a-scene 
        embedded 
        mindar-image="imageTargetSrc: ./ar/paramo/target.mind; autoStart: true; uiLoading: no; uiScanning: no; uiError: no"
        color-space="sRGB"
        renderer="colorManagement: true; physicallyCorrectLights: true"
        vr-mode-ui="enabled: false"
        device-orientation-permission-ui="enabled: false">
        
        <a-entity mindar-image-target="targetIndex: 0" id="targetRoot">
            <!-- VERY LARGE AND OBVIOUS AR CONTENT -->
            
            <!-- Giant red box that should be impossible to miss -->
            <a-box 
                position="0 0 0" 
                scale="3 3 3" 
                color="#ff0000" 
                material="transparent: false; opacity: 1"
                animation="property: rotation; to: 0 360 0; loop: true; dur: 2000">
            </a-box>
            
            <!-- Huge green text floating above -->
            <a-text 
                value="üöÄ AR IS WORKING! üöÄ" 
                position="0 4 0" 
                align="center" 
                color="#00ff00"
                scale="3 3 3"
                material="transparent: false">
            </a-text>
            
            <!-- Large yellow cylinder underneath -->
            <a-cylinder
                position="0 -2 0"
                radius="2"
                height="0.5"
                color="#ffff00"
                material="transparent: false; opacity: 1">
            </a-cylinder>
            
            <!-- Animated orange sphere -->
            <a-sphere
                position="3 2 0"
                radius="1"
                color="#ff8800"
                material="transparent: false"
                animation="property: position; to: -3 2 0; dir: alternate; loop: true; dur: 3000">
            </a-sphere>
            
            <!-- Blue cone pointing up -->
            <a-cone
                position="0 -3 0"
                radius-bottom="1.5"
                radius-top="0"
                height="2"
                color="#0088ff"
                material="transparent: false">
            </a-cone>
            
            <!-- Multiple colored boxes in a circle -->
            <a-box position="2 0 2" scale="1 1 1" color="#ff00ff" material="transparent: false"></a-box>
            <a-box position="-2 0 2" scale="1 1 1" color="#00ffff" material="transparent: false"></a-box>
            <a-box position="2 0 -2" scale="1 1 1" color="#ffff00" material="transparent: false"></a-box>
            <a-box position="-2 0 -2" scale="1 1 1" color="#ff8800" material="transparent: false"></a-box>
            
        </a-entity>
        
        <a-camera 
            position="0 0 0" 
            look-controls="enabled: false">
        </a-camera>
    </a-scene>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const targetEntity = document.querySelector('#targetRoot');
            const debugStatus = document.getElementById('debugStatus');
            const instructions = document.getElementById('instructions');
            
            // Target tracking events
            targetEntity.addEventListener('targetFound', function() {
                console.log('üéØ TARGET FOUND - AR CONTENT SHOULD BE VISIBLE!');
                debugStatus.innerHTML = 'üéØ Tracking: ACTIVE<br>üì¶ AR Content: VISIBLE';
                debugStatus.style.background = 'rgba(0, 150, 0, 0.9)';
                instructions.innerHTML = 'üéâ AR DETECTED! You should see HUGE red box and green text!';
                instructions.style.background = 'rgba(0, 150, 0, 0.9)';
            });
            
            targetEntity.addEventListener('targetLost', function() {
                console.log('‚ùå Target lost');
                debugStatus.innerHTML = 'üéØ Tracking: LOST<br>üì¶ AR Content: HIDDEN';
                debugStatus.style.background = 'rgba(150, 0, 0, 0.9)';
                instructions.innerHTML = 'üîç Point camera at paramo image - AR content will appear when detected!';
                instructions.style.background = 'rgba(0, 150, 0, 0.9)';
            });
        });
    </script>
</body>
</html>